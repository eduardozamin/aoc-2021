import unittest

from day04 import solution_day04

bingo_input = """
    7,4,9,5,11,17,23,2,0,14,21,24,10,16,13,6,15,25,12,22,18,20,8,19,3,26,1
    
    22 13 17 11  0
     8  2 23  4 24
    21  9 14 16  7
     6 10  3 18  5
     1 12 20 15 19
    
     3 15  0  2 22
     9 18 13 17  5
    19  8  7 25 23
    20 11 10 24  4
    14 21 16 12  6
    
    14 21 17 24  4
    10 16 15  9 19
    18  8 23 26 20
    22 11 13  6  5
     2  0 12  3  7
    """


class TestDay04(unittest.TestCase):

    def test_parse_board_numbers(self):
        numbers, boards = solution_day04.parse_board(bingo_input)
        expected = [int(x)
                    for x in bingo_input.split("\n")[1].strip().split(",")]
        self.assertEqual(numbers, expected)

    def test_parse_board_boards(self):
        numbers, boards = solution_day04.parse_board(bingo_input)
        expected = [
            [
                [[22, 0], [13, 0], [17, 0], [11, 0], [ 0, 0]],
                [[ 8, 0], [ 2, 0], [23, 0], [ 4, 0], [24, 0]],
                [[21, 0], [ 9, 0], [14, 0], [16, 0], [ 7, 0]],
                [[ 6, 0], [10, 0], [ 3, 0], [18, 0], [ 5, 0]],
                [[ 1, 0], [12, 0], [20, 0], [15, 0], [19, 0]],
            ],
            [
                [[ 3, 0], [15, 0], [ 0, 0], [ 2, 0], [22, 0]],
                [[ 9, 0], [18, 0], [13, 0], [17, 0], [ 5, 0]],
                [[19, 0], [ 8, 0], [ 7, 0], [25, 0], [23, 0]],
                [[20, 0], [11, 0], [10, 0], [24, 0], [ 4, 0]],
                [[14, 0], [21, 0], [16, 0], [12, 0], [ 6, 0]],
            ],
            [
                [[14, 0], [21, 0], [17, 0], [24, 0], [ 4, 0]],
                [[10, 0], [16, 0], [15, 0], [ 9, 0], [19, 0]],
                [[18, 0], [ 8, 0], [23, 0], [26, 0], [20, 0]],
                [[22, 0], [11, 0], [13, 0], [ 6, 0], [ 5, 0]],
                [[ 2, 0], [ 0, 0], [12, 0], [ 3, 0], [ 7, 0]],
            ]
        ]
        self.assertEqual(boards, expected)
